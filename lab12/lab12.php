<?php
    $username = readline("Enter a username: ");
    $query = "SELECT * FROM users WHERE user=" . $username;
    $forbidden_chars = array("'", ";", "-", "\\", "/". "%", "(", ")");
    $isValid = true;
    print($query."\n");
    for($i = 0; $i < strlen($query); $i++) {
        foreach($forbidden_chars as $value) {
            if($query[$i] == $value) {
                $isValid = false;
            }
        }
    }
    if(strpos(strtolower($query), "union") || strpos($query, "1=1")) {
        $isValid = false;
    }

    if($isValid) {
        print("The query was accepted!\n");
    }
    else {
        print("The query is not valid.\n");
    }
?>